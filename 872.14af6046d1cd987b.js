"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[872],{1872:(Q,u,o)=>{o.r(u),o.d(u,{TeacherModule:()=>N});var l=o(6895),i=o(4006),g=o(2554),d=o(9299),e=o(4650),Z=o(8615),I=o(7185),c=o(3546),p=o(4859),m=o(9549),f=o(4144),T=o(4385),v=o(3238),A=o(7392),h=o(9602);function F(r,a){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"El nombre es requerido"),e.qZA())}function b(r,a){if(1&r&&(e.TgZ(0,"mat-option",18),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.Q6J("value",t.grado),e.xp6(1),e.hij(" ",t.nombre," ")}}function E(r,a){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Seleccione grado a cargo"),e.qZA())}function C(r,a){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Fecha de nacimiento es requerida"),e.qZA())}function U(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.saveTeacher())}),e._uU(1,"GUARDAR "),e._UZ(2,"mat-icon",20),e.qZA()}}function O(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.editTeacher())}),e._uU(1,"EDITAR "),e._UZ(2,"mat-icon",20),e.qZA()}}let R=(()=>{class r{constructor(t,n,s,J){this.api=t,this.fb=n,this.toastr=s,this.route=J,this.listadoGrados=[{grado:"1",nombre:"PRIMERO"},{grado:"2",nombre:"SEGUNDO"},{grado:"3",nombre:"TERCERO"},{grado:"4",nombre:"CUARTO"},{grado:"5",nombre:"QUINTO"},{grado:"6",nombre:"SEXTO"}],this.checkError=(x,D)=>this.teacherForm.controls[x].hasError(D),this.teacherForm=this.createFormGroup()}ngOnInit(){this.teacherId=this.route.snapshot.paramMap.get("id"),this.teacherId&&this.getTeacher()}createFormGroup(t){return this.fb.group({name:[t?.name||null,[i.kI.required]],assignedSchoolGrade:[t?.assignedSchoolGrade||null,[i.kI.required]],birth:[t?.birth||null,[i.kI.required]]})}saveTeacher(){this.teacherForm.invalid?this.teacherForm.markAllAsTouched():this.api.post("teacher",this.teacherForm.value).subscribe(t=>{this.toastr.success("SATISFACTORIO","REGISTRO GUARDADO EXISTOSAMENTE"),this.teacherForm.reset()},t=>{this.toastr.error(t.error.msg)})}editTeacher(){this.teacherForm.invalid?this.teacherForm.markAllAsTouched():this.api.put("teacher/"+this.teacherId,this.teacherForm.value).subscribe(t=>{this.toastr.success("SATISFACTORIO","REGISTRO EDITADO EXISTOSAMENTE"),this.teacherForm.reset()},t=>{this.toastr.error(t.error.msg)})}getTeacher(){this.api.get(`teacher/${this.teacherId}`).subscribe(t=>{this.teacherForm=this.createFormGroup(t)},t=>{this.toastr.error(t.error.msg)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z.s),e.Y36(i.qu),e.Y36(I._W),e.Y36(d.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-teacher-register"]],decls:37,vars:9,consts:[[1,"container","text-center"],[1,"row","justify-content-center"],[1,"col-8"],[1,"mat-elevation-z8"],[1,"container","text-center",3,"formGroup"],[1,"row","align-items-center"],[1,"col-md-8","offset-md-2"],["appearance","fill",1,"full-width"],["autocomplete","off","type","text","matInput","","placeholder","","formControlName","name"],[4,"ngIf"],[1,"col-md-4","offset-md-2"],["name","grado","formControlName","assignedSchoolGrade"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-4"],["matInput","","formControlName","birth",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],[3,"value"],["mat-raised-button","","color","primary",3,"click"],["aria-hidden","false","aria-label","delete","fontIcon","save"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"br"),e.TgZ(4,"mat-card",3)(5,"mat-card-title"),e._uU(6,"Registro De Maestros"),e.qZA(),e.TgZ(7,"mat-card-content")(8,"div",4)(9,"div",5)(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),e._uU(13,"Nombre"),e.qZA(),e._UZ(14,"input",8),e.YNc(15,F,2,0,"mat-error",9),e.qZA()()(),e.TgZ(16,"div",5)(17,"div",10)(18,"mat-form-field",7)(19,"mat-label"),e._uU(20,"Grado "),e.qZA(),e.TgZ(21,"mat-select",11),e.YNc(22,b,2,2,"mat-option",12),e.qZA(),e.YNc(23,E,2,0,"mat-error",9),e.qZA()(),e.TgZ(24,"div",13)(25,"mat-form-field",7)(26,"mat-label"),e._uU(27,"Fecha de Nacimiento"),e.qZA(),e._UZ(28,"input",14)(29,"mat-datepicker-toggle",15)(30,"mat-datepicker",null,16),e.YNc(32,C,2,0,"mat-error",9),e.qZA()()()()(),e.TgZ(33,"mat-card-actions"),e.YNc(34,U,3,0,"button",17),e.YNc(35,O,3,0,"button",17),e.qZA()()()()(),e._UZ(36,"br")),2&t){const s=e.MAs(31);e.xp6(8),e.Q6J("formGroup",n.teacherForm),e.xp6(7),e.Q6J("ngIf",n.checkError("name","required")),e.xp6(7),e.Q6J("ngForOf",n.listadoGrados),e.xp6(1),e.Q6J("ngIf",n.checkError("assignedSchoolGrade","required")),e.xp6(5),e.Q6J("matDatepicker",s),e.xp6(1),e.Q6J("for",s),e.xp6(3),e.Q6J("ngIf",n.checkError("birth","required")),e.xp6(2),e.Q6J("ngIf",!n.teacherId),e.xp6(1),e.Q6J("ngIf",n.teacherId)}},dependencies:[l.sg,l.O5,i.Fj,i.JJ,i.JL,i.sg,i.u,c.a8,c.dn,c.n5,c.hq,p.lW,m.TO,m.KE,m.hX,m.R9,f.Nt,T.gD,v.ey,A.Hw,h.Mq,h.hl,h.nW]}),r})();const M=[{path:"",data:{title:"Maestros"},children:[{path:"",pathMatch:"full",redirectTo:"registro-maestros"},{path:"registro-maestros",component:R,data:{title:"Registro de Maestros"}},{path:"registro-maestros/:id",component:R,data:{title:"Registro de Maestros"}}]}];let S=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[d.Bz.forChild(M),d.Bz]}),r})();var G=o(529);let N=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[l.ez,i.UX,g.ejP,g.zE6,G.JF,S,c.QW,p.ot,m.lN,f.c,T.LD,A.Ps,h.FA,v.XK]}),r})()}}]);